<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · IPC.jl Package</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="IPC.jl Package logo"/></a><h1>IPC.jl Package</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">IPC.jl Package</a></li><li><a class="toctext" href="../semaphores/">Semaphores</a></li><li class="current"><a class="toctext" href>Reference</a><ul class="internal"><li><a class="toctext" href="#Semaphores-1">Semaphores</a></li><li><a class="toctext" href="#Exceptions-1">Exceptions</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Reference</a></li></ul><a class="edit-page" href="https://github.com/emmt/IPC.jl/blob/master/docs/src/reference.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Reference</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Reference-1" href="#Reference-1">Reference</a></h1><p>The following provides detailled documentation about types and methods provided by the IPC package.  This information is also available from the REPL by typing <code>?</code> followed by the name of a method or a type.</p><h2><a class="nav-anchor" id="Semaphores-1" href="#Semaphores-1">Semaphores</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="IPC.Semaphore" href="#IPC.Semaphore"><code>IPC.Semaphore</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p><strong>Named Semaphores</strong></p><pre><code class="language-julia">Semaphore(name, value; perms=0o600, volatile=true) -&gt; sem</code></pre><p>creates a new named semaphore identified by the string <code>name</code> of the form <code>&quot;/somename&quot;</code> and initial value set to <code>value</code>.  An instance of <code>Semaphore{String}</code> is returned.  Keyword <code>perms</code> can be used to specify access permissions.  Keyword <code>volatile</code> specify whether the semaphore should be unlinked when the returned object is finalized.</p><pre><code class="language-julia">Semaphore(name) -&gt; sem</code></pre><p>opens an existing named semaphore and returns an instance of <code>Semaphore{String}</code>.</p><p>To unlink (remove) a persistent named semaphore, simply do:</p><pre><code class="language-julia">rm(Semaphore, name)</code></pre><p>If the semaphore does not exists, the error is ignored.  A <code>SystemError</code> is however thrown for other errors.</p><p>For maximum flexibility, an instance of a named semaphore may also be created by:</p><pre><code class="language-julia">open(Semaphore, name, flags, mode, value, volatile) -&gt; sem</code></pre><p>where <code>flags</code> may have the bits <code>IPC.O_CREAT</code> and <code>IPC.O_EXCL</code> set, <code>mode</code> specifies the granted access permissions, <code>value</code> is the initial semaphore value and <code>volatile</code> is a boolean indicating whether the semaphore should be unlinked when the returned object <code>sem</code> is finalized.  The values of <code>mode</code> and <code>value</code> are ignored if an existing named semaphore is open.</p><p><strong>Anonymous Semaphores</strong></p><p>Anonymous semaphores are backed by <em>memory</em> objects providing the necessary storage.</p><pre><code class="language-julia">Semaphore(mem, value; offset=0, volatile=true) -&gt; sem</code></pre><p>initializes an anonymous semaphore backed by memory object <code>mem</code> with initial value set to <code>value</code> and returns an instance of <code>Semaphore{typeof(mem)}</code>. Keyword <code>offset</code> can be used to specify the address (in bytes) of the semaphore data relative to <code>pointer(mem)</code>.  Keyword <code>volatile</code> specify whether the semaphore should be destroyed when the returned object is finalized.</p><pre><code class="language-julia">Semaphore(mem; offset=0) -&gt; sem</code></pre><p>yields an an instance of <code>Semaphore{typeof(mem)}</code> associated with an initialized anonymous semaphore and backed by memory object <code>mem</code> at relative position (in bytes) specified by keyword <code>offset</code>.</p><p>The number of bytes needed to store an anonymous semaphore is given by <code>sizeof(Semaphore)</code> and anonymous semaphore must be aligned in memory at multiples of the word size (that is <code>Sys.WORD_SIZE &gt;&gt; 3</code> in bytes).  Memory objects used to store an anonymous semaphore must implement two methods: <code>pointer(mem)</code> and <code>sizeof(mem)</code> to yield respectively the base address and the size (in bytes) of the associated memory.</p><p>See also: <a href="#IPC.post-Tuple{Semaphore}"><code>post</code></a>, <a href="#Base.wait-Tuple{Semaphore}"><code>wait</code></a>, <a href="#Base.timedwait-Tuple{Semaphore,Real}"><code>timedwait</code></a>,           <a href="#IPC.trywait-Tuple{Semaphore}"><code>trywait</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/emmt/IPC.jl/blob/7ba550b14d1ac9c13875e674f7f628881a8261dc/src/semaphores.jl#L12-L88">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="IPC.post-Tuple{Semaphore}" href="#IPC.post-Tuple{Semaphore}"><code>IPC.post</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">post(sem)</code></pre><p>increments (unlocks) the semaphore <code>sem</code>.  If the semaphore&#39;s value consequently becomes greater than zero, then another process or thread blocked in a <a href="#Base.wait-Tuple{Semaphore}"><code>wait</code></a> call on this semaphore will be woken up.</p><p>See also: <a href="#IPC.Semaphore"><code>Semaphore</code></a>, <a href="#Base.wait-Tuple{Semaphore}"><code>wait</code></a>, <a href="#Base.timedwait-Tuple{Semaphore,Real}"><code>timedwait</code></a>,           <a href="#IPC.trywait-Tuple{Semaphore}"><code>trywait</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/emmt/IPC.jl/blob/7ba550b14d1ac9c13875e674f7f628881a8261dc/src/semaphores.jl#L195-L207">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.wait-Tuple{Semaphore}" href="#Base.wait-Tuple{Semaphore}"><code>Base.wait</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">wait(sem)</code></pre><p>decrements (locks) the semaphore <code>sem</code>.  If the semaphore&#39;s value is greater than zero, then the decrement proceeds and the function returns immediately. If the semaphore currently has the value zero, then the call blocks until either it becomes possible to perform the decrement (i.e., the semaphore value rises above zero), or a signal handler interrupts the call (in which case an instance of <code>InterruptException</code> is thrown).  A <code>SystemError</code> may be thrown if an unexpected error occurs.</p><p>See also: <a href="#IPC.Semaphore"><code>Semaphore</code></a>, <a href="#IPC.post-Tuple{Semaphore}"><code>post</code></a>, <a href="#Base.timedwait-Tuple{Semaphore,Real}"><code>timedwait</code></a>,           <a href="#IPC.trywait-Tuple{Semaphore}"><code>trywait</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/emmt/IPC.jl/blob/7ba550b14d1ac9c13875e674f7f628881a8261dc/src/semaphores.jl#L211-L227">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.timedwait-Tuple{Semaphore,Real}" href="#Base.timedwait-Tuple{Semaphore,Real}"><code>Base.timedwait</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">timedwait(sem, secs)</code></pre><p>decrements (locks) the semaphore <code>sem</code>.  If the semaphore&#39;s value is greater than zero, then the decrement proceeds and the function returns immediately. If the semaphore currently has the value zero, then the call blocks until either it becomes possible to perform the decrement (i.e., the semaphore value rises above zero), or the limit of <code>secs</code> seconds expires (in which case an instance of <a href="#IPC.TimeoutError"><code>TimeoutError</code></a> is thrown), or a signal handler interrupts the call (in which case an instance of <code>InterruptException</code> is thrown).</p><p>See also: <a href="#IPC.Semaphore"><code>Semaphore</code></a>, <a href="#IPC.post-Tuple{Semaphore}"><code>post</code></a>, <a href="#Base.wait-Tuple{Semaphore}"><code>wait</code></a>,           <a href="#IPC.trywait-Tuple{Semaphore}"><code>trywait</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/emmt/IPC.jl/blob/7ba550b14d1ac9c13875e674f7f628881a8261dc/src/semaphores.jl#L240-L256">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="IPC.trywait-Tuple{Semaphore}" href="#IPC.trywait-Tuple{Semaphore}"><code>IPC.trywait</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">trywait(sem) -&gt; boolean</code></pre><p>attempts to immediately decrement (lock) the semaphore <code>sem</code> returning <code>true</code> if successful.  If the decrement cannot be immediately performed, then the call returns <code>false</code>.  If an interruption is received or if an unexpected error occurs, an exception is thrown (<code>InterruptException</code> or <code>SystemError</code> repectively).</p><p>See also: <a href="#IPC.Semaphore"><code>Semaphore</code></a>, <a href="#IPC.post-Tuple{Semaphore}"><code>post</code></a>, <a href="#Base.wait-Tuple{Semaphore}"><code>wait</code></a>,           <a href="#Base.timedwait-Tuple{Semaphore,Real}"><code>timedwait</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/emmt/IPC.jl/blob/7ba550b14d1ac9c13875e674f7f628881a8261dc/src/semaphores.jl#L275-L289">source</a></section><h2><a class="nav-anchor" id="Exceptions-1" href="#Exceptions-1">Exceptions</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="IPC.TimeoutError" href="#IPC.TimeoutError"><code>IPC.TimeoutError</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p><code>TimeoutError</code> is used to throw a timeout exception.</p></div></div><a class="source-link" target="_blank" href="https://github.com/emmt/IPC.jl/blob/7ba550b14d1ac9c13875e674f7f628881a8261dc/src/types.jl#L12-L14">source</a></section><footer><hr/><a class="previous" href="../semaphores/"><span class="direction">Previous</span><span class="title">Semaphores</span></a></footer></article></body></html>
